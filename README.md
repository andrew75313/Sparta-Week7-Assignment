# <회원가입, 로그인 기능이 있는 투두앱 백엔드 서버 만들기>

## 1. PRD 요구사항 정의서/기능정의서
| **번호** | **요구사항명** | **요구사항 상세**                                                                                                                                                                                                       | **중요도** | **비고**                                                                                                 |
|--------|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|--------------------------------------------------------------------------------------------------------|
| **1**  | 회원가입      | • 사용자 정보( 아이디, 별명, 사용자이름(username), 비밀번호(password), 권한 (일반, 어드민), 생성일 ) 를 전달받아 저장<br>• username은  최소 4자 이상, 10자 이하이며 알파벳 소문자(a~z), 숫자(0~9)로 구성<br>• Password는  최소 8자 이상, 15자 이하이며 알파벳 대소문자(a~z, A~Z), 숫자(0~9)로 구성 | 상       | • DB에 중복된 username이 없다면 회원을 저장&Client 로 성공했다는 메시지 / 있다면 상태코드 반환<br>• password는 암호화없이 평문으로 저장           |
| **2**  | 로그인       | • DB에서 username을 사용하여 저장된 회원의 유무를 확인                                                                                                                                                                              | 상       | • 로그인 성공 시 로그인에 성공한 유저의 정보와 JWT를 활용하여 토큰을 발급<br>• 발급한 토큰을 Header에 추가하고 성공했다는 메시지 및 상태코드와 함께 client에 반환 |
| **3**  | 일정 등록     | • 할일 제목, 할일 내용, 담당자(작성자), 비밀번호, 작성일을 일정으로 등록                                                                                                                                                                      | 중       | • 작성일은 작성한 날짜=오늘날짜 년월일시분초                                                                              |
| **4**  | 일정 목록 조회  | • 모든 일정 목록 불러와서 조회                                                                                                                                                                                                | 중       | • 작성일기준 내림차순으로 정렬                                                                                      |
| **5**  | 일정 수정     | • 일정을 선택, 할일 제목, 할일 내용을 수정 가능                                                                                                                                                                                     | 상       | • 로그인 상태에서 가능<br>• 수정된 일정의 정보를 반환                                                                      |
| **6**  | 일정 삭제     | • 일정을 선택, 삭제                                                                                                                                                                                                      | 상       | • 로그인 상태에서 가능                                                                                          |
| **7**  | 댓글 목록 조회  | • 선택 일정의 댓글 목록 불러와서 조회                                                                                                                                                                                            | 중       |                                                                                                        |
| **8**  | 댓글 등록     | • DB에 등록된, 선택한 일정이 있다면 댓글을 등록<br>• 댓글을 식별하는 고유번호, 댓글 내용, 댓글을 작성한 사용자 아이디, 댓글이 작성된 일정 아이디, 작성일자를 저장                                                                                                                | 중       | • 로그인 상태에서 가능<br>• 댓글이 등록되었다면 client에게 반환                                                              |
| **9**  | 댓글 수정     | • DB에 저장된 선택한 일정의 댓글을 수정<br>• 댓글 내용만 수정 가능                                                                                                                                                                        | 중       | • 로그인 상태에서 가능<br>• 댓글이 수정되었다면 수정된 댓글을 반환                                                               |
| **10** | 댓글 삭제     | • DB에 저장된 선택한 일정의 댓글을 삭제                                                                                                                                                                                          | 중       | • 로그인 상태에서 가능<br>• 성공했다는 메시지 & 상태 코드 반환                                                                |
| **11** | 토큰 재발급    | • Refresh Token과 요청을 했을 때, Access Token 재발급                                                                                                                                                                       | 상       | • Token이 유효하지 않거나, 만료가 되었을 때, 재로그인 요구 메시지 반환                                                           |

## 2. ERD
![Scheduler Advanced ERD](https://github.com/andrew75313/Sparta-Week7-Assignment/assets/161192870/dfa9a98f-f1b8-49e7-8a30-a53f3bb46b56)

## 3. API 명세서
| **기능**   | **Method** | **URL**                                          | **Return Type**           | **Response 비고**              |
|----------|------------|--------------------------------------------------|---------------------------|------------------------------|
| 일정 등록    | POST       | /api/schedules                                   | ScheduleResponseDto       | 등록된 일정 정보 or 일정 등록에 대한 성공 여부 |
| 일정 목록 조회 | GET        | /api/schedules                                   | List<ScheduleResponseDto> | 사용자의 등록된 모든 일정들의 정보          |
| 일정 수정    | PUT        | /api/schedules/{id}                              | String                    | 수정된 일정 정보 or 일정 등록에 대한 성공 여부 |
| 일정 삭제    | DELETE     | /api/schedules/{id}                              | String                    | 일정삭제에 대한 성공 여부               |
| 댓글 목록 조회 | GET        | /api/schedules/{id}/comments                     | List<CommentResponseDto>  | 특정 일정에 등록된 모든 일정들의 정보        |
| 댓글 등록    | POST       | /api/schedules/{id}/comments                     | String                    | 댓글 등록 성공 여부 & 등록 댓글          |
| 댓글 수정    | PUT        | /api/schedules/{scheduleId}/comments/{commentId} | String                    | 댓글 수정 성공 여부 & 수정 댓글          |
| 댓글 삭제    | DELETE     | /api/schedules/{scheduleId}/comments/{commentId} | String                    | 댓글 삭제 성공 여부                  |
| 회원가입     | POST       | /api/user/signup                                 | String                    | 회원가입 성공 여부                   |
| 로그인      | PUT        | /api/user/login                                  | String                    | 로그인 성공 여부                    |
| 토큰 재발급   | POST       | /api/token                                       | String                    | Access Token 발급 성공여부         |
